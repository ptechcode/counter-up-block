{"version":3,"file":"frontend.js","mappings":"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","sources":["webpack://counter-up-block/./src/frontend.js"],"sourcesContent":["\r\n\r\ndocument.addEventListener( 'DOMContentLoaded', initCounter );\r\n\r\nfunction initCounter() {\r\n\tconst txtElements = document.querySelectorAll( '.wp-block-create-block-counter-up-block' );\r\n\r\n\ttxtElements.forEach( ( txtElement ) => {\r\n\t\tnew Counter( txtElement);\r\n\t} );\r\n}\r\n\r\n\r\n\r\nclass Counter {\r\n    constructor( txtElement ) {\r\n        this.txtElement = txtElement;\r\n        this.counter = txtElement.querySelector('.counter')\r\n        this.targetnumber = parseInt( this.counter.getAttribute('data-target'))       \r\n        this.speed = parseInt( this.counter.getAttribute('data-speed'))      \r\n        this.comma = ( this.counter.getAttribute('data-comma'))\r\n        this.update_ms = 10;\r\n        this.increment = (this.targetnumber/this.speed)*this.update_ms    \r\n     \r\n        this.counter.innerText = '0',\r\n        this.number = +this.counter.innerText\r\n        this.timer\r\n        this.events()     \r\n    }\r\n\r\n    events() {\r\n        window.addEventListener('load',   ()=> this.run()); // or checkBoxes()\r\n        window.addEventListener('resize', () =>this.run());    \r\n        window.addEventListener('scroll', ()=> this.run());        \r\n    }\r\n\r\n    run(){\r\n        if (this.isInViewport(this.txtElement)) {\r\n            if( !this.txtElement.classList.contains('show')) {\r\n              this.txtElement.classList.add('show'); \r\n              this.timer = setInterval(()=>this.updateCounter(), this.update_ms)        \r\n            }\r\n        }   \r\n      \r\n    }\r\n\r\n    isInViewport( el ) {\r\n        const rect = el.getBoundingClientRect();\r\n        return (\r\n          rect.top >= 0 &&\r\n          rect.left >= 0 &&\r\n          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n          rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n        )\r\n    }    \r\n   \r\n\r\n    updateCounter(){ \r\n        if (this.number < this.targetnumber){\r\n              \r\n            this.counter.innerText = Math.ceil( this.number )                \r\n        } else {\r\n            clearInterval(this.timer)\r\n            this.counter.innerText =  (this.comma == 'yesComma')?  this.targetnumber.toLocaleString('en-US') : this.targetnumber\r\n        }  \r\n        this.number = this.number + this.increment           \r\n    }\r\n\r\n}\r\n"],"names":["document","addEventListener","initCounter","txtElements","querySelectorAll","forEach","txtElement","Counter","constructor","counter","querySelector","targetnumber","parseInt","getAttribute","speed","comma","update_ms","increment","innerText","number","timer","events","window","run","isInViewport","classList","contains","add","setInterval","updateCounter","el","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","Math","ceil","clearInterval","toLocaleString"],"sourceRoot":""}